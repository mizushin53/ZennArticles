---
title: "クラウドでマイクラサーバーを立てる方法(1.19版)"
emoji: "🎮"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["javascript","gcp",]
published: false
---
# はじめに
ある日のこと
友人A「そういや久々にマイクラやりたいわぁ」
私「新しいアップデート来たしやるかぁ！」

と雑な導入でマインクラフトのサーバーを立ち上げることが決まりました。
## サーバーの仕組み
GCPのComputer EngineでVMインスタンスを立ち上げそこでマイクラサーバーを稼働させます。
遊ぶときにサーバーを稼働させればいいので24時間動かす必要はありません。そこでインスタンスを[Spot VM](https://cloud.google.com/compute/docs/instances/spot)で立ち上げます。こちらは最大でも24時間でインスタンスが停止してしまいますが料金が60%～91%の割引が適用されます。

またインスタンスの起動/停止をdiscordのbotで管理することによって遊ぶときに起動して遊び終わったら停止するコマンドを実装します。
これによって料金を抑えつつ必要スペックのサーバーが建てられそうです。

# CGPの設定
## プロジェクトの作成
まずは新しいプロジェクトの作成を行います。
プロジェクト名はMCserverとします。
![](https://storage.googleapis.com/zenn-user-upload/da34adde5360-20220808.jpg)

## インスタンスを作成